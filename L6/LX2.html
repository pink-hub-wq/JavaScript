<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <style>
        body {
            font-size: 12px;
        }
        div#register fieldset {
            border: 1px solid #ccc;
            width: 670px;
            padding: 10px;
        }
        div#register fieldset legend {
            margin-left: 20px;
        }
        div#register label {
            width: 70px;
            display: block;
            float: left;
            text-align: right;
        }
        div#register .txt {
            border: 1px solid #ccc;
            width: 130px;
        }
        div#register span {
            color: red;
        }
    </style>

</head>
<body>
<div id="register">
    <div id="Div1">
        <form onsubmit="return check()" action="success.html">
            <fieldset>
                <img src="images/register_logo.gif">
                <legend>请填写注册信息</legend>
                <p>
                    <label>用户名：</label>
                    <input type="text" id="txtName" class="txt" onblur="checkName()"/>
                    <span id="span_name">由字母、数字、下划线、点、减号组成的4-18位字符，以数字、字母开头或结尾</span>
                </p>
                <p>
                    <label>昵称：</label>
                    <input type="text" id="txtNick" class="txt" onblur="checkNick()"/>
                    <span id="span_nick">包含汉字、字母、数字、下划线的4-20位字符，汉字占两个字符</span>
                </p>
                <p>
                    <label>邮箱：</label>
                    <input name="" type="text" id="txtEmail" class="txt" onblur="checkEmail()">
                    <span id="span_email">邮箱@域名，如seiryo@tom.com或者seiryo@sina.com</span>
                </p>
                <p>
                    <label>密码：</label>
                    <input name="" type="password" id="txtPwd" class="txt" onblur="checkPwd()">
                    <span id="span_pwd">英文字母和数字组成的4-10位字符</span>
                </p>
                <p>
                    <label>确认密码：</label>
                    <input name="" type="password" id="txtConfirmPwd" class="txt" onblur="checkConfirmPwd()">
                    <span id="span_confirmPwd"></span>
                </p>
                <p>
                    <label>手机号码：</label>
                    <input name="" type="text" id="txtPhone" class="txt" onblur="checkPhone()">
                    <span id="span_phone">手机号由11位数字组成，且以13,15,18开头</span>
                </p>
                <p>
                    <label>身份证：</label>
                    <input name="" type="text" id="txtBorn" class="txt" onblur="checkBorn()">
                    <span id="span_born">由15位或者18位组成</span>
                </p>
                <p><input type="image" src="images/button.gif"/></p>
            </fieldset>
        </form>
    </div>
</div>
<script>
    function $(id){
        return document.getElementById(id);
    }
    function checkName(){
        var name = $("txtName").value;
        var name_prompt = $("span_name");
        var nameReg = /^[a-zA-Z][a-zA-Z0-9]{3,15}$/;
        if(!nameReg.test(name)){
            name_prompt.innerHTML = "错误，英文字母和数字组成的4-16位字符，以字母开头";
            return false;
        }
        name_prompt.innerHTML = "格式正确";
        return true;
    }
    function checkNick(){
        var nick = $("txtNick").value;
        var nick_prompt = $("span_nick");
        var nickReg = new RegExp("^[\u4e00-\u9fa5]{2,6}$");
        if(!nickReg.test(nick)){
            nick_prompt.innerHTML = "错误，由2-6个数字组成";
            return false;
        }
        nick_prompt.innerHTML = "格式正确";
        return true;
    }
    function checkEmail(){
        var email = $("txtEmail").value;
        var email_prompt = $("span_email");
        var emailReg = /^\w+@\w+(\.[a-zA-Z]{2,3}){1,2}$/;
        if(!emailReg.test(email)){
            email_prompt.innerHTML = "错误，如seiryo@tom.com或者seiryo@sina.com";
            return false;
        }
        email_prompt.innerHTML = "格式正确";
        return true;
    }
    function checkPwd(){
        var pwd = $("txtPwd").value;
        var pwd_prompt = $("span_pwd");
        var pwdReg = /^[a-zA-Z0-9]{4,10}$/;
        if(!pwdReg.test(pwd)){
            pwd_prompt.innerHTML = "错误，英文字母和数字组成的4-10位字符";
            return false;
        }
        pwd_prompt.innerHTML = "格式正确";
        return true;
    }
    function checkConfirmPwd(){
        var confirmPwd = $("txtConfirmPwd").value;
        var pwd = $("txtPwd").value;
        var confirmPwd_prompt = $("span_confirmPwd");
        if(pwd != confirmPwd){
            confirmPwd_prompt.innerHTML = "错误，两次输入的密码不一致";
            return false;
        }
        confirmPwd_prompt.innerHTML = "密码正确";
        return true;
    }
    function checkPhone(){
        var phone = $("txtPhone").value;
        var phone_prompt = $("span_phone");
        var phoneReg = /^(13|15|18)\d{9}$/;
        if(!phoneReg.test(phone)){
            phone_prompt.innerHTML = "错误，手机号由11位数字组成，且以13,15,18开头";
            return false;
        }
        phone_prompt.innerHTML = "格式正确";
        return true;
    }
    function checkBorn(){
        var born = $("txtBorn").value;
        var born_prompt = $("span_born");
        var bornReg = /^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/;
        if(!bornReg.test(born)){
            born_prompt.innerHTML = "错误，由15位或者18位组成";
            return false;
        }
        born_prompt.innerHTML = "格式正确";
        return true;
    }
    function check(){
        if(checkName() && checkEmail() && checkNick() && checkPwd() && checkConfirmPwd() && checkPhone() && checkBornDate()){
            return true;
        }
        return false;
    }
</script>
</body>
</html>